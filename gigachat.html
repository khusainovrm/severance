<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Black Goo Effect in Three.js</title>
  <style>
      body { margin: 0; overflow: hidden; background-color: #fff; }
      canvas { display: block; width: 100%; height: 100vh; }
  </style>
</head>
<body>
<script type="module">
  import * as THREE from './node_modules/three/build/three.module.js';
  import { OrbitControls } from './node_modules/three/examples/jsm/controls/OrbitControls.js';

  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
  camera.position.z = 5;

  const renderer = new THREE.WebGLRenderer({antialias: true});
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement);

  new OrbitControls(camera, renderer.domElement);

  const geometry = new THREE.PlaneGeometry(2, 2);
  geometry.rotateX(-Math.PI / 2);

  const material = new THREE.ShaderMaterial({
    uniforms: {
      time: {value: 0},
    },
    vertexShader: `
            varying vec2 vUv;
            void main() {
                vUv = uv;
                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
            }
        `,
    fragmentShader: `
            uniform float time;
            varying vec2 vUv;

            vec3 blackGoo(vec2 p, float t) {
                float speed = sin(t * 0.5 + p.x * 10.0) * 0.8 + 0.2;
                float dist = abs(p.y - t * speed);
                return smoothstep(dist, 0.0, 0.05) * vec3(0.0, 0.0, 0.0);
            }

            void main() {
                vec3 color = blackGoo(vUv, time);
                gl_FragColor = vec4(color, 1.0);
            }
        `
  });

  const mesh = new THREE.Mesh(geometry, material);
  scene.add(mesh);

  let clock = new THREE.Clock();

  function animate() {
    requestAnimationFrame(animate);
    const elapsedTime = clock.getElapsedTime();
    material.uniforms.time.value = elapsedTime;
    renderer.render(scene, camera);
  }
  animate();
</script>
</body>
</html>